<?xml version="1.0" encoding="UTF-8" ?>
<project name="Financial Report" basedir="." default="jar" >
	 <property file="${basedir}/FinancialReport.properties"/> 
	<property name="build.directory" value="${basedir}/build">
	</property>
	<property name="config.directory" value="${basedir}/config">
		</property>
	<property name="src.dir" value="${basedir}/src">
	</property>
	<property name="one-jar.dist.dir" value="c:/one-jar-ant"/>
	<import file="${one-jar.dist.dir}/one-jar-ant-task.xml" optional="true" />

	<property name="jar.directory" value="${build.directory}/jar">
	</property>
	<property name="meta.dir" value="${jar.directory}/META-INF">
	</property>
	<property name="jar.class" value="${jar.directory}/classes">
	</property>
	<property name="build.config.dir" value="${jar.directory}/config">
	</property>
		<property name="build.lib.dir" value="${jar.directory}/lib">
	</property>
	<property name="build.hibernate.mapping.dir" value="${build.config.dir}/mapping">
	    
	</property>
	<property name="config.dir" value="${basedir}/config">
	</property>
	<property name="hibernate.mapping.dir" value="${config.dir}/mapping">
	    
	</property>
	<property name="jar.file" value="${product.name}.jar">
	</property>

	
	<target name="clean">
		<delete dir="${jar.directory}">
		</delete>
	 	<delete dir="${build.directory}">
		</delete>
	</target>
	<target name="prepare" depends="clean">
	    <mkdir dir="${build.directory}"/>
		<mkdir dir="${jar.directory}" />
		<mkdir dir="${meta.dir}" />
		<mkdir dir="${jar.class}"/>
		<mkdir dir="${build.config.dir}"/>
		<mkdir dir="${build.hibernate.mapping.dir}"/>
		
		<copy todir="${build.hibernate.mapping.dir}">
			<fileset dir="${hibernate.mapping.dir}">
				<include name="*.xml" />
			</fileset>
		</copy>
		
		<copy todir="${build.config.dir}">
			<fileset dir="${config.dir}">
				<include name="*.properties" />
				<include name="*.xml" />
			</fileset>
			</copy>
			<copy todir="${build.lib.dir}">
		<!--Copying hiberante related jars -->
		<fileset dir="${liberary.hibernate}">
				<include name="*.jar"/>
			</fileset> 
			
			<!--Copying Jar files related to commons-->
			<fileset dir="${liberary.commons}">
				<include name="*.jar"/>
			</fileset>
		
			
		
			<!-- Copying http components Jars-->
			<fileset dir="${liberary.httpcomponents}">
				<include name="*.jar"/>
			</fileset>
			
			<!-- Copying javamail  Jars-->
			<fileset dir="${liberary.javamail}">
				<include name="*.jar"/>
			</fileset>
			
			
			<!-- Copying pdfbox  Jars-->
			<fileset dir="${liberary.pdfbox}">
				<include name="*.jar"/>
			</fileset>
			
			
			<!-- Copying Spring  Jars-->
			<fileset dir="${liberary.spring_3.1.1}">
				<include name="*.jar"/>
			</fileset>
			
			<!-- Copying twitter related  Jars-->
			<fileset dir="${liberary.twitter}">
				<include name="*.jar"/>
			</fileset>
		
			<!-- Copying velocity related jars-->
			<fileset dir="${liberary.velocity}">
				<include name="*.jar"/>
			</fileset>
			
			<!-- Copying bitlyj related jars-->
			<fileset dir="${liberary.bitlyj}">
				<include name="*.jar"/>
			</fileset>
			
				<!-- Copying velocity related jars-->
			<fileset dir="${liberary.log4jWrapper}">
				<include name="*.jar"/>
			</fileset>
			
		</copy>
	</target>
	<path id="compile.path">

		<fileset dir="${build.lib.dir}">
			<include name="*.jar"/>
		</fileset>
	</path>
	<target name="compile" depends="prepare">

		<javac debug="true" verbose="on" srcdir="${src.dir}" destdir="${jar.class}">
			<classpath refid="compile.path" />
			<include name="**/*.java" />
		</javac>

	</target>
	<target name="jar" depends="compile">
	  <jar destfile="${build.directory}/${jar.file}">
    <fileset dir="${jar.class}"/>
     <zipfileset includes="**/*.*" src="${build.lib.dir}/antlr-2.7.7.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/bitlyj-2.0.0.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/commons-codec-1.6.jar"/>
     <zipfileset includes="**/*.*" src="${build.lib.dir}/commons-dbcp-1.4.jar"/>
     <zipfileset includes="**/*.*" src="${build.lib.dir}/commons-email-1.2.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/commons-io-2.3.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/commons-logging-1.1.1.jar"/>
   	<zipfileset includes="**/*.*" src="${build.lib.dir}/commons-pool-1.4.jar"/>
   <zipfileset includes="**/*.*" src="${build.lib.dir}/dom4j-1.6.1.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/dsn.jar"/>
     <zipfileset includes="**/*.*" src="${build.lib.dir}/fluent-hc-4.2.1.jar"/>
      <zipfileset includes="**/*.*" src="${build.lib.dir}/fontbox-1.6.0.jar"/>
       <zipfileset includes="**/*.*" src="${build.lib.dir}/hibernate-commons-annotations-4.0.1.Final.jar"/>
        <zipfileset includes="**/*.*" src="${build.lib.dir}/hibernate-core-4.1.3.Final.jar"/>
         <zipfileset includes="**/*.*" src="${build.lib.dir}/hibernate-jpa-2.0-api-1.0.1.Final.jar"/>
          <zipfileset includes="**/*.*" src="${build.lib.dir}/httpclient-4.2.1.jar"/>
           <zipfileset includes="**/*.*" src="${build.lib.dir}/httpclient-cache-4.2.1.jar"/>
            <zipfileset includes="**/*.*" src="${build.lib.dir}/httpcore-4.2.1.jar"/>
             <zipfileset includes="**/*.*" src="${build.lib.dir}/httpmime-4.2.1.jar"/>
              <zipfileset includes="**/*.*" src="${build.lib.dir}/imap.jar"/>
                <zipfileset includes="**/*.*" src="${build.lib.dir}/javassist-3.15.0-GA.jar"/>
                <zipfileset includes="**/*.*" src="${build.lib.dir}/jboss-logging-3.1.0.GA.jar"/>
                 <zipfileset includes="**/*.*" src="${build.lib.dir}/jboss-transaction-api_1.1_spec-1.0.0.Final.jar"/> 
                 <zipfileset includes="**/*.*" src="${build.lib.dir}/log4j-1.2.16.jar"/>
                  <zipfileset includes="**/*.*" src="${build.lib.dir}/log4jWrapper.jar"/> 
                  <zipfileset includes="**/*.*" src="${build.lib.dir}/mailapi.jar"/> 
                  <zipfileset includes="**/*.*" src="${build.lib.dir}/mysql-connector-java-5.1.20-bin.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/one-jar-appgen-0.97.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.aop-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.asm-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.aspects-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.beans-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.context.support-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.context-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.core-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.expression-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.instrument.tomcat-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.instrument-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.jdbc-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.jms-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.orm-3.1.1.RELEASE.jar"/>
      <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.oxm-3.1.1.RELEASE.jar"/>
        <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.test-3.1.1.RELEASE.jar"/>
          <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.transaction-3.1.1.RELEASE.jar"/>
            <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.web.portlet-3.1.1.RELEASE.jar"/>
              <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.web.servlet-3.1.1.RELEASE.jar"/>
                <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.web.struts-3.1.1.RELEASE.jar"/>
                  <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.web-3.1.1.RELEASE.jar"/>
    <zipfileset includes="**/*.*" src="${build.lib.dir}/pdfbox-1.6.0.jar"/>
     <zipfileset includes="**/*.*" src="${build.lib.dir}/pop3.jar"/>
      <zipfileset includes="**/*.*" src="${build.lib.dir}/smtp.jar"/>
       <zipfileset includes="**/*.*" src="${build.lib.dir}/twitter4j-core-2.2.5.jar"/>
        <zipfileset includes="**/*.*" src="${build.lib.dir}/velocity-1.7.jar"/>
         <zipfileset includes="**/*.*" src="${build.lib.dir}/velocity-1.7-dep.jar"/>
          <zipfileset includes="**/*.*" src="${build.lib.dir}/org.springframework.web-3.1.1.RELEASE.jar"/>
                  <fileset dir="${build.config.dir}">
        <include name="**/*" ></include>
    </fileset>
    <manifest>
      <attribute name="Main-Class"
            value="com.pikefin.oldlogic.DataLoad"/>
        <attribute name="Built-By" value="${user.name}"/>
      <!-- Information about the program itself -->
      <attribute name="Implementation-Vendor" value="http://www.pikefin.com"/>
      <attribute name="Implementation-Title" value="Financial Report"/>
      <attribute name="Implementation-Version" value="1.0.0"/>
    </manifest>
  </jar>
     
	
	</target>
	
	
</project>
